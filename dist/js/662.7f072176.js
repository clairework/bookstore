"use strict";(self["webpackChunkbookstore"]=self["webpackChunkbookstore"]||[]).push([[662],{206:function(e,t,i){i(7658);var s=i(2578),o=i(6294),r=i(2492),a=i.n(r);t["Z"]={data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[],favoriteId:JSON.parse(localStorage.getItem("favoriteId"))||[],resentlyViewdProducts:JSON.parse(localStorage.getItem("resentlyViewdProducts"))||[]}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},favoriteId:{handler(){localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId))},deep:!0},resentlyViewdProducts:{handler(){localStorage.setItem("resentlyViewdProducts",JSON.stringify(this.resentlyViewdProducts))},deep:!0}},methods:{...(0,s.nv)(o.Z,["pushMsg"]),toggleFavorite(e){const t=this.favorite.findIndex((t=>t.id===e.id));-1===t?(this.favorite.push(e),this.favoriteId.push(e.id),a().fire({position:"center",icon:"success",title:"已成功收藏",showConfirmButton:!1,timer:2e3})):(this.favorite.splice(t,1),this.favoriteId.splice(t,1),a().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3}))},removeFavoriteItem(e){const t=this.favorite.findIndex((t=>t.id===e.id));this.favorite.splice(t,1),this.favoriteId.splice(t,1),a().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3}),console.log("favorite=>",this.favorite),console.log("favoriteId=>",this.favoriteId)},getLocalStorage(){return JSON.parse(localStorage.getItem("favorite"))},resentlyViewed(e){const t=this.resentlyViewdProducts.findIndex((t=>t.id===e.id));-1===t?(this.resentlyViewdProducts.unshift(e),this.resentlyViewdProducts.length>10&&this.resentlyViewdProducts.pop()):-1!==t&&(this.resentlyViewdProducts.splice(t,1),this.resentlyViewdProducts.unshift(e))}}}},3662:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var s=i(3396),o=i(7139);const r=(0,s._)("div",{class:"spinner-border text-primary m-5",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),a={class:"front-fav"},d=(0,s.uE)('<div class="header-banner"><div class="container"><div class="row pt-5"><div class=""><p class="pt-2 fw-bold" style="font-size:42px;">我的收藏</p></div></div></div></div>',1),n={class:"bg-primaryMiddle"},l={class:"favorite-base"},c={class:"container mt-n15 bg-light ps-5 pt-5 rounded-4 shadow"},f={key:0,class:""},v={class:"row row-cols-xl-4 row-cols-2 row-cols-md-3"},u={class:"bg-light",style:{height:"460px",width:"230px"}},h={class:"collectionImg position-relative rounded-4 mb-3 hoverBoxShadow",style:{overflow:"hidden",width:"230px"}},p=["src"],g=["onClick"],w={key:0,class:"material-icons-outlined text-white fs-4 mt-1"},m={key:1,class:"material-icons-outlined text-white fs-4 mt-1"},y={class:""},b={style:{"max-height":"68px",overflow:"hidden","line-height":"2rem"}},I={class:"mb-0 fw-bold d-inline-block text-dark fs-5"},k={class:"d-flex justify-content-between"},x={class:"text-gray600"},_={class:"text-primary fw-bold text-end fs-5"},S={key:1},V={class:"text-center"},P={class:"bg-light py-5 px-2 px-sm-5"},C=(0,s._)("h2",{class:"mb-5 fw-bolder"},"尚無收藏書籍",-1);function D(e,t,i,D,L,N){const Z=(0,s.up)("LoadingView"),J=(0,s.up)("RouterLink"),O=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Z,{class:"loading",active:e.isLoading},{default:(0,s.w5)((()=>[r])),_:1},8,["active"]),(0,s._)("div",a,[d,(0,s._)("div",n,[(0,s._)("section",l,[(0,s._)("div",c,[e.favorite.length?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.favorite,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",u,[(0,s._)("div",h,[(0,s.Wm)(J,{class:"",to:`/product/${t.id}`},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.imageUrl,alt:"{{ item.title }}",class:"rounded-2",style:{height:"320px",width:"230px"}},null,8,p)])),_:2},1032,["to"]),(0,s._)("div",{class:(0,o.C_)(["bookMark btn btn-sm position-absolute top-0 end-0 rounded-circle m-2",e.favoriteId.includes(t.id)?"btn-secondaryDark":"btn-secondaryLight"]),onClick:i=>e.removeFavoriteItem(t)},[e.favoriteId.includes(t.id)?((0,s.wg)(),(0,s.iD)("span",w,"bookmark")):((0,s.wg)(),(0,s.iD)("span",m,"bookmark_border"))],10,g)]),(0,s._)("div",y,[(0,s._)("div",b,[(0,s._)("p",I,(0,o.zw)(t.title),1)]),(0,s._)("div",k,[(0,s._)("p",x,(0,o.zw)(t.author),1),(0,s._)("p",_,"NT$ "+(0,o.zw)(e.$filters.currency(t.price)),1)])])])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",V,[(0,s._)("div",P,[C,(0,s.Wm)(O,{class:"btn btn-secondary fs-5 fw-bolder",to:"/list"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 把喜歡的書籍加入進來吧 ! ")])),_:1})])])]))])])])])],64)}i(7658);var L=i(206),N=i(2578),Z=i(4677),J=i(6294),O={mixins:[L.Z],data(){return{title:""}},components:{},computed:{...(0,N.rn)(Z.Z,["cartData"]),...(0,N.rn)(J.Z,["isLoadingItem","isLoadingItem","isLoading"])},methods:{...(0,N.nv)(Z.Z,["addToCart"]),...(0,N.nv)(J.Z,["loadingEffect","loadingItemEffect","pushMsg"]),toProduct(e){this.$router.push(`/product/${e}`)}},mounted(){}},$=i(89);const z=(0,$.Z)(O,[["render",D]]);var B=z}}]);
//# sourceMappingURL=662.7f072176.js.map