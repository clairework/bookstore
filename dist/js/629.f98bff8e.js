"use strict";(self["webpackChunkbookstore"]=self["webpackChunkbookstore"]||[]).push([[629],{7993:function(t,s,r){r.r(s),r.d(s,{default:function(){return bt}});var e=r(3396),a=r(9242),l=r(7139),i=r.p+"img/loading.8a13cb6e.gif";const d=(0,e._)("img",{src:i,alt:"Loading"},null,-1),c={class:"window-height bg-light"},o=(0,e._)("div",{class:"ordersearch-banner"},[(0,e._)("div",{class:"container"},[(0,e._)("div",{class:"title"},[(0,e._)("h2",{class:"text-primaryDark text-end"})])])],-1),n={class:"container"},u={class:"row justify-content-center"},p={class:"col-md-6 py-6 py-md-10"},h={class:"input-group me-2 mt-5 mb-5"},m=(0,e._)("button",{class:"btn btn-primary",type:"submit",id:"button-addon2"},[(0,e._)("i",{class:"fa-solid fa-magnifying-glass text-white"})],-1),_={class:"container"},w={key:0,class:"d-flex flex-column justify-content-center py-5",style:{height:"43vh"}},y=(0,e._)("i",{class:"fs-1 bi bi-arrow-up-square text-center text-primaryDark fa-2x mb-3"},null,-1),b=(0,e._)("p",{class:"text-center fw-bold mb-4 h4"},"請輸入訂單編號",-1),x=[y,b],g={key:1,class:"row justify-content-center pt-2"},f={class:"col-12 col-xl-8"},k={class:"d-flex justify-content-between align-items-center mb-4"},D=(0,e._)("p",{class:"text-primaryDark fw-bold fs-3 p-2"},"訂單內容",-1),v={class:"d-flex"},O={key:0,class:"text-primaryDark fw-bold me-2"},z={key:1,class:"text-primaryDark fw-bold me-2"},q={class:"switch"},L=(0,e._)("span",{class:"slider cursor-default"},null,-1),$={class:"table align-middle"},j=(0,e._)("thead",null,[(0,e._)("tr",{class:"fs-5"},[(0,e._)("th",{class:"d-none d-md-table-cell text-start",width:"40%"},"名稱"),(0,e._)("th",{class:"d-none d-md-table-cell text-start",width:"30%"},"單價"),(0,e._)("th",{class:"d-none d-md-table-cell text-center",width:"30%"},"數量")])],-1),M={class:"d-flex align-items-center p-3"},S=["src","alt"],U={class:"cart-body text-start"},V={class:"fw-bold"},C={class:"fw-bold"},H={key:0,class:"text-danger fw-bold"},N={width:"20%"},T={class:"fw-bold text-primaryDark"},Y={class:"text-center",width:"20%"},Z={class:"text-primaryDark fw-bold text-end mb-3 fs-md-4"},E={class:"col-12 col-xl-4 mb-5"},K=(0,e._)("p",{class:"text-primaryDark fw-bold fs-3 p-2 text-center mb-3"},"用戶資訊",-1),W={class:"p-5 bg-white shadow-sm"},A={class:"table mb-5 mb-md-0 fs-6 ms-3 w-90 border-primaryOne pb-5"},B={class:"text-start"},F=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"下單時間",-1),G={class:"text-primaryDark"},I={class:"text-start"},J=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"Email",-1),P={class:"text-primaryDark"},Q={class:"text-start"},R=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"收件人姓名",-1),X={class:"text-primaryDark"},tt={class:"text-start"},st=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"電話號碼",-1),rt={class:"text-primaryDark"},et={class:"text-start"},at=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"收件地址",-1),lt={class:"text-primaryDark"},it={key:0,class:"text-start"},dt=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"付款方式",-1),ct={class:"text-primaryDark"},ot={key:1,class:"text-start"},nt=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"備註",-1),ut={class:"text-primaryDark"};function pt(t,s,r,i,y,b){const pt=(0,e.up)("LoadingView");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(pt,{class:"loading",active:y.isLoading},{default:(0,e.w5)((()=>[d])),_:1},8,["active"]),(0,e._)("div",c,[o,(0,e._)("div",n,[(0,e._)("div",u,[(0,e._)("div",p,[(0,e._)("div",h,[(0,e.wy)((0,e._)("input",{class:"form-control",type:"search","onUpdate:modelValue":s[0]||(s[0]=t=>y.search=t),placeholder:"請輸入訂單編號","aria-label":"Search","aria-describedby":"button-addon2"},null,512),[[a.nr,y.search,void 0,{lazy:!0,trim:!0}]]),m])])])]),(0,e._)("div",_,[y.userOrder.id?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",w,x)),y.userOrder.id?((0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",f,[(0,e._)("div",k,[D,(0,e._)("div",v,[y.userOrder.is_paid?((0,e.wg)(),(0,e.iD)("span",O,"已付款")):((0,e.wg)(),(0,e.iD)("span",z,"未付款")),(0,e._)("label",q,[(0,e.wy)((0,e._)("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=t=>y.userOrder.is_paid=t),disabled:""},null,512),[[a.e8,y.userOrder.is_paid]]),L])])]),(0,e._)("table",$,[j,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(y.userOrder.products,(s=>((0,e.wg)(),(0,e.iD)("tr",{key:s.id},[(0,e._)("td",null,[(0,e._)("div",M,[(0,e._)("img",{class:"imgbox-small me-2",src:s.product.imageUrl,alt:s.product.title},null,8,S),(0,e._)("div",U,[(0,e._)("p",V,(0,l.zw)(s.product.title),1),(0,e._)("p",C,(0,l.zw)(s.product.author),1),s.coupon?((0,e.wg)(),(0,e.iD)("p",H,"已套用優惠券")):(0,e.kq)("",!0)])])]),(0,e._)("td",N,[(0,e._)("p",T,"NT$ "+(0,l.zw)(t.$filters.currency(s.product.price)),1)]),(0,e._)("td",Y,[(0,e._)("p",null,"x "+(0,l.zw)(s.qty),1)])])))),128))])]),(0,e._)("div",null,[(0,e._)("p",Z," 應付金額 : NT$"+(0,l.zw)(t.$filters.currency(Math.round(y.userOrder.total))),1)])]),(0,e._)("div",E,[K,(0,e._)("div",W,[(0,e._)("table",A,[(0,e._)("tbody",null,[(0,e._)("tr",B,[F,(0,e._)("td",G,(0,l.zw)(t.$filters.date(y.userOrder.create_at)),1)]),(0,e._)("tr",I,[J,(0,e._)("td",P,(0,l.zw)(y.userOrder.user.email),1)]),(0,e._)("tr",Q,[R,(0,e._)("td",X,(0,l.zw)(y.userOrder.user.name),1)]),(0,e._)("tr",tt,[st,(0,e._)("td",rt,(0,l.zw)(y.userOrder.user.tel),1)]),(0,e._)("tr",et,[at,(0,e._)("td",lt,(0,l.zw)(y.userOrder.user.address),1)]),y.userOrder.user.payment?((0,e.wg)(),(0,e.iD)("tr",it,[dt,(0,e._)("td",ct,(0,l.zw)(y.userOrder.user.payment),1)])):(0,e.kq)("",!0),y.userOrder.message?((0,e.wg)(),(0,e.iD)("tr",ot,[nt,(0,e._)("td",ut,(0,l.zw)(y.userOrder.message),1)])):(0,e.kq)("",!0)])])])])])):(0,e.kq)("",!0)])])],64)}var ht=r(2578),mt=r(6294),_t={data(){return{userOrder:{user:{},products:{}},search:"",isLoading:!1}},watch:{search:{handler(){""===this.search?this.userOrder={}:this.getOrders(this.search)},deer:!0}},methods:{...(0,ht.nv)(mt.Z,["pushMsg"]),getOrders(t){this.search.length<20||!this.search.includes("-")?this.pushMsg(!1,"搜尋","請重新搜尋"):(this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/api/claire0127-api/order/${t}`).then((t=>{this.isLoading=!1,this.userOrder=t.data.order,this.userOrder.orderStatus||(this.userOrder.orderStatus="已收到訂單")})).catch((()=>{this.isLoading=!1,this.pushMsg(!1,"搜尋","請重新搜尋")})))}}},wt=r(89);const yt=(0,wt.Z)(_t,[["render",pt]]);var bt=yt}}]);
//# sourceMappingURL=629.f98bff8e.js.map