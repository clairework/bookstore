{"version":3,"file":"js/135.ebf01012.js","mappings":"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","sources":["webpack://bookstore/./src/components/front/OrderSteps.vue","webpack://bookstore/./src/components/front/OrderSteps.vue?180d","webpack://bookstore/./src/views/front/CheckCart.vue","webpack://bookstore/./src/views/front/CheckCart.vue?174c"],"sourcesContent":["<template>\n    <section class=\"zones section_process py-5\">\n      <div class=\"container \">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-md-10\">\n            <div class=\"step-wrap\">\n              <div class=\"step step1 done\">\n                <h3>1</h3>\n                <span class=\"txt\">購物車</span>\n              </div>\n              <div\n                class=\"step step2\"\n                :class=\"{done:step === 2 || step === 3}\"\n              >\n                <h3>2</h3>\n                <span class=\"txt\">付款資訊</span>\n              </div>\n              <div\n                class=\"step step3\"\n                :class=\"{done:step === 3}\"\n              >\n                <h3>3</h3>\n                <span class=\"txt\">確認付款</span>\n              </div>\n            </div>\n            <div class=\"progress\">\n              <div\n                class=\"progress-bar bg-primary\"\n                :class=\"{step2:step === 2,step3:step === 3}\"\n                role=\"progressbar\"\n                aria-valuenow=\"50\"\n                aria-valuemin=\"0\"\n                aria-valuemax=\"100\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {}\n  },\n  props: ['step']\n}\n</script>\n","import { render } from \"./OrderSteps.vue?vue&type=template&id=d30e6a6c\"\nimport script from \"./OrderSteps.vue?vue&type=script&lang=js\"\nexport * from \"./OrderSteps.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\Claire\\\\VueProject3\\\\bookstore\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingView class=\"loading\" :active=\"isLoading\">\r\n    <div class=\"spinner-border text-primaryDark m-5\" role=\"status\">\r\n    <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </LoadingView>\r\n  <div class=\"front-checkcart\">\r\n  <div class=\"bg-light window-height\">\r\n     <OrderSteps :cartData=\"cartData\" :step=\"step\"></OrderSteps>\r\n       <div style=\"height:50px\"></div>\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n           <!--左邊: 確認訂單 -->\r\n            <div class=\"col-lg-8 pb-4\">\r\n              <div class=\"mb-2\" style=\"line-height: 1.57; border-bottom: 1px solid rgba(0, 0, 0, 0.12);align-items: baseline;\">\r\n                <i class=\"fas fa-shopping-cart me-1 fs-3 text-gray600\"></i>\r\n                <h2 class=\"fs-4 fs-md-2 d-inline-block text-gray600\">購物車</h2>\r\n              </div>\r\n              <!-- 如果購物車為空 -->\r\n              <div class=\"w-100 d-flex flex-column align-items-center py-5\"\r\n              v-if=\"cartData.carts.length === 0\">\r\n                <i class=\"fa-solid fa-triangle-exclamation text-primaryDark fa-2x mb-3\"></i>\r\n                  <p class=\"fw-bold mb-4\">購物車內沒有商品</p>\r\n              </div>\r\n              <div v-if=\"cartData.carts.length !== 0\">\r\n                <!--左邊: 購物車品項 -->\r\n                <div class=\"card d-flex flex-row fs-5 shadow-sm text-gray600 bg-white border-0 d-flex justify-content-between mt-3 p-2 rounded-1\">\r\n                  <span class=\"w-60\">名稱</span>\r\n                  <span class=\"w-10\">售價</span>\r\n                  <span class=\"w-20 text-center\">數量</span>\r\n                  <span class=\"w-10\">金額</span>\r\n                </div>\r\n                <div class=\"border-0\" v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n                  <div class=\"card border-0 my-4 text-gray600 shadow-sm\">\r\n                      <div class=\"d-flex align-items-center p-3 fs-5\">\r\n                        <img class=\"me-2\" :src=\"item.product.imageUrl\" style=\"height: 110px; width:80px\" :alt=\"item.product.title\">\r\n                        <p class=\"fw-bold w-50\">{{ item.product.title }}</p>\r\n                        <p class=\"fw-bold h-100 text-end w-25 me-5 \">{{ $filters.currency(item.product.price) }}</p>\r\n                        <div class=\"text-end cart-qty w-20\">\r\n                          <input class=\"input-qty rounded-0 text-center fs-5\"\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            max=\"30\"\r\n                            v-model.number=\"item.qty\"\r\n                            inputmode=\"numeric\"\r\n                            :disabled=\"isDisabled === item.id\"\r\n                            @blur=\"updateCart(item, item.qty)\"\r\n                          />\r\n                       </div>\r\n                        <p class=\"fw-bold text-primaryMiddle text-end w-25\">{{ $filters.currency(item.total) }}</p>\r\n                      </div>\r\n                    <div class=\"delCartItem text-end pe-3\" @click=\"delCartItem(item)\" style=\"cursor: pointer;border-top: 1px solid rgba(0, 0, 0, 0.12);line-height:2.4rem;\">\r\n                      <i class=\"bi bi-trash me-2\"></i>刪除\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n              </div>\r\n              <!-- 右邊--金額與折扣資料 -->\r\n              <div class=\"col-lg-4\">\r\n                <div v-if=\"cartData.carts.length !== 0\">\r\n                  <div class=\"card fw-bold border-0 p-3 shadow text-gray600 mb-5\">\r\n                        <h5 class=\"pb-2\" style=\"border-bottom: 1px solid rgba(0, 0, 0, 0.12)\">訂單明細</h5>\r\n                        <p class=\"fs-5 text-gray800 fw-bold\" :class=\"{'mb-3':cartData.final_total !== cartData.total}\">\r\n                        商品小計 : <span class=\"float-end text-gray800 fw-bold\">NT$ {{ $filters.currency(cartData.total) }}</span>\r\n                        </p>\r\n                        <p class=\"text-gray800 fs-5 mb-3 \" v-if=\"cartData.final_total !== cartData.total\">折扣金額 : \r\n                          <span class=\"float-end \"> {{ $filters.currency(discount_price) }}</span></p>\r\n                        <p class=\"text-gray800 mb-3 fs-5\"  style=\"border-top: 1px solid rgba(0, 0, 0, 0.12)\">商品總金額:\r\n                          <span class=\"float-end text-secondaryDark fs-4 \"> NT${{ $filters.currency(final_total) }} </span>\r\n                        </p>\r\n                        <div class=\"text-primary rounded-2 mb-2\" v-if=\"cartData.final_total !== cartData.total\">\r\n                          <div class=\"fw-bold p-2\">\r\n                          <p class=\"fs-5\">已使用 {{ $filters.currency(Math.abs(discount_price)) }} 元優惠券</p>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"input-group bg-primaryLight text-primary rounded-2 mb-2\">\r\n                            <div class=\"input-group m-3\" v-if=\"cartData.final_total === cartData.total\">\r\n                              <input type=\"text\" class=\"form-control\" placeholder=\"輸入優惠券\" v-if=\"cartData.final_total === cartData.total\" v-model=\"coupon_code\" aria-label=\"coupon\" aria-describedby=\"coupon\">\r\n                              <button class=\"btn btn-primary text-white\" type=\"button\" id=\"coupon\"\r\n                              @click=\"addCoupon\" :class=\"{'disabled':cartData.final_total !== cartData.total}\">套用優惠券</button>\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"submit\" class=\"btn btn-secondary text-primaryDark fw-bold fs-4 px-2\"\r\n                        @click.prevent=\"onSubmit\">來去結帳</button>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderSteps from '@/components/front/OrderSteps'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport cartStore from '@/stores/cartStore'\r\nimport statusStore from '@/stores/statusStore'\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      step: 1,\r\n      final_total: '',\r\n      discount_price: '',\r\n      coupon_code: '',\r\n      title: '建立訂單',\r\n      form: {\r\n        user: {\r\n          payment: '',\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      orderId: this.$route.params.id,\r\n      resentlyViewdProducts: JSON.parse(localStorage.getItem('resentlyViewdProducts')) || []\r\n    }\r\n  },\r\n  components: {\r\n    OrderSteps\r\n  },\r\n  watch: {\r\n    cartData: {\r\n      handler () {\r\n        this.final_total = Math.round(this.cartData.final_total)\r\n      },\r\n      deep: true\r\n    },\r\n    final_total: {\r\n      handler () {\r\n        this.discount_price = this.final_total - this.cartData.total\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(cartStore, ['cartData', 'coupon_code']),\r\n    ...mapState(statusStore, ['isLoading'])\r\n  },\r\n  methods: {\r\n    ...mapActions(cartStore, ['getCartList', 'updateCart', 'delCartItem', 'addCouponCode']),\r\n    ...mapActions(statusStore, ['loadingEffect', 'pushMsg']),\r\n    // 手機驗證\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\r\n    },\r\n    // 送出訂單\r\n    onSubmit () {\r\n      this.$router.push('/checkorder')\r\n    },\r\n    addCoupon () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        this.getCartList()\r\n        console.log(response)\r\n        this.isLoading = false\r\n        Swal.fire({\r\n          position: 'center',\r\n          icon: 'success',\r\n          title: '已套用優惠券!!!',\r\n          showConfirmButton: false,\r\n          timer: 2000\r\n        })\r\n      })\r\n    },\r\n    // 取得最近瀏覽的資料\r\n    getResentlyViewdProducts () {\r\n      this.resentlyViewdProducts = JSON.parse(localStorage.getItem('resentlyViewdProducts')) || []\r\n    },\r\n    // 清除最近瀏覽\r\n    clearRecentlyViewed () {\r\n      this.loadingEffect()\r\n      localStorage.removeItem('resentlyViewdProducts')\r\n      this.getResentlyViewdProducts()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.final_total = Math.round(this.cartData.final_total)\r\n    this.discount_price = this.final_total - this.cartData.total\r\n    console.log(this.discount_price)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.min-h-25{\r\n  min-height:100px\r\n}\r\n</style>\r\n","import { render } from \"./CheckCart.vue?vue&type=template&id=6327a263&scoped=true\"\nimport script from \"./CheckCart.vue?vue&type=script&lang=js\"\nexport * from \"./CheckCart.vue?vue&type=script&lang=js\"\n\nimport \"./CheckCart.vue?vue&type=style&index=0&id=6327a263&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\Claire\\\\VueProject3\\\\bookstore\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6327a263\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_normalizeClass","done","$props","step","_hoisted_13","step2","step3","role","data","props","__exports__","render","style","_createVNode","_component_LoadingView","active","_ctx","isLoading","_component_OrderSteps","cartData","$data","carts","length","_hoisted_9","_hoisted_12","_hoisted_14","_Fragment","_renderList","item","key","id","_hoisted_15","_hoisted_16","src","product","imageUrl","alt","title","_hoisted_18","_toDisplayString","_hoisted_19","$filters","currency","price","_hoisted_20","type","min","max","qty","$event","inputmode","disabled","isDisabled","onBlur","updateCart","_hoisted_22","total","onClick","delCartItem","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","final_total","_hoisted_29","_hoisted_30","_hoisted_31","discount_price","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","Math","abs","_hoisted_37","_hoisted_38","placeholder","coupon_code","_cache","args","$options","addCoupon","_withModifiers","onSubmit","form","user","payment","name","email","tel","address","message","orderId","this","$route","params","resentlyViewdProducts","JSON","parse","localStorage","getItem","components","OrderSteps","watch","handler","round","deep","computed","mapState","cartStore","statusStore","methods","mapActions","isPhone","value","phoneNumber","test","$router","push","url","coupon","code","$http","post","then","response","getCartList","console","log","Swal","position","icon","showConfirmButton","timer","getResentlyViewdProducts","clearRecentlyViewed","loadingEffect","removeItem","mounted"],"sourceRoot":""}