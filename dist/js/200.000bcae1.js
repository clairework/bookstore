"use strict";(self["webpackChunkbookstore"]=self["webpackChunkbookstore"]||[]).push([[200],{206:function(t,e,a){a(7658);var s=a(2578),o=a(6294),r=a(2492),i=a.n(r);e["Z"]={data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[],favoriteId:JSON.parse(localStorage.getItem("favoriteId"))||[],resentlyViewdProducts:JSON.parse(localStorage.getItem("resentlyViewdProducts"))||[]}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},favoriteId:{handler(){localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId))},deep:!0},resentlyViewdProducts:{handler(){localStorage.setItem("resentlyViewdProducts",JSON.stringify(this.resentlyViewdProducts))},deep:!0}},methods:{...(0,s.nv)(o.Z,["pushMsg"]),toggleFavorite(t){const e=this.favorite.findIndex((e=>e.id===t.id));-1===e?(this.favorite.push(t),this.favoriteId.push(t.id),i().fire({position:"center",icon:"success",title:"已成功收藏",showConfirmButton:!1,timer:2e3})):(this.favorite.splice(e,1),this.favoriteId.splice(e,1),i().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3}))},removeFavoriteItem(t){const e=this.favorite.findIndex((e=>e.id===t.id));this.favorite.splice(e,1),this.favoriteId.splice(e,1),i().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3}),console.log("favorite=>",this.favorite),console.log("favoriteId=>",this.favoriteId)},getLocalStorage(){return JSON.parse(localStorage.getItem("favorite"))},resentlyViewed(t){const e=this.resentlyViewdProducts.findIndex((e=>e.id===t.id));-1===e?(this.resentlyViewdProducts.unshift(t),this.resentlyViewdProducts.length>10&&this.resentlyViewdProducts.pop()):-1!==e&&(this.resentlyViewdProducts.splice(e,1),this.resentlyViewdProducts.unshift(t))}}}},3200:function(t,e,a){a.r(e),a.d(e,{default:function(){return Tt}});var s=a(3396);const o={class:""};function r(t,e,a,r,i,n){const l=(0,s.up)("FrontNavbar"),c=(0,s.up)("GoTop"),d=(0,s.up)("router-view"),p=(0,s.up)("FooterComponent");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(l),(0,s.Wm)(c),(0,s.Wm)(d),(0,s.Wm)(p)])}var i=a(7139),n=a(9242),l=a(4427);const c={class:"front-nav sticky-top bg-white"},d={class:"navbar navbar-expand-lg navbar-light shadow-sm align-items-left",id:"front-nav"},p={class:"container"},u=(0,s._)("img",{src:l,alt:"",style:{height:"70px"}},null,-1),v={class:"cart dropdown ms-auto cursor-pointer order-lg-3"},m={class:"text-dark",id:"cartDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},f={class:"d-flex"},h=(0,s._)("i",{class:"fa-solid fa-cart-shopping"},null,-1),w={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},g={class:"dropdown-menu dropdown-menu-end vw-90 vw-sm-70 vw-md-60 vw-lg-50 vw-xl-40 vw-xxl-30 rounded-4"},_=(0,s._)("div",{class:"navbar-toggler custom-toggler px-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"},[(0,s._)("i",{class:"fas fa-bars"})])],-1),b={id:"navbarNavDropdown",class:"collapse navbar-collapse"},y={class:"navbar-nav ml-auto fs-5 ms-2"};function x(t,e,a,o,r,l){const x=(0,s.up)("router-link"),k=(0,s.up)("CartList");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("nav",d,[(0,s._)("div",p,[(0,s.Wm)(x,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s._)("div",v,[(0,s._)("div",m,[(0,s._)("div",f,[(0,s._)("div",{class:(0,i.C_)(["position-relative me-2 fs-5",{bounced:t.isBounced}])},[h,0!=t.cartData.carts.length?((0,s.wg)(),(0,s.iD)("span",w,(0,i.zw)(t.cartData.carts.length),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",g,[(0,s.Wm)(k,{onGetCartList:t.getCartList},null,8,["onGetCartList"])])]),_,(0,s._)("div",b,[(0,s._)("ul",y,[(0,s._)("li",{class:"nav-item",onClick:e[0]||(e[0]=(...t)=>l.navCollapseBack&&l.navCollapseBack(...t))},[(0,s.Wm)(x,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 首頁 ")])),_:1})]),(0,s._)("li",{class:"nav-item",onClick:e[2]||(e[2]=(...t)=>l.navCollapseBack&&l.navCollapseBack(...t))},[(0,s.Wm)(x,{class:"nav-link",to:{name:"list",query:{pathCategory:"全部"}},onClick:e[1]||(e[1]=(0,n.iM)((t=>l.toCategory("全部")),["prevent"])),exact:"","exact-active-class":"active-link"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 書籍列表 ")])),_:1})]),(0,s._)("li",{class:"nav-item",onClick:e[3]||(e[3]=(...t)=>l.navCollapseBack&&l.navCollapseBack(...t))},[(0,s.Wm)(x,{class:"nav-link",to:"/favorite"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 我的收藏 ")])),_:1})])])])])])])}a(7658);const k=t=>((0,s.dD)("data-v-393a5130"),t=t(),(0,s.Cn)(),t),C={ref:"cart",class:""},D={class:"h-100 max-h-70vh p-2"},I={class:"h-100"},S={key:0,class:"w-100 d-flex flex-column align-items-center py-5"},T=k((()=>(0,s._)("i",{class:"fa-solid fa-triangle-exclamation text-primaryDark fa-2x mb-3"},null,-1))),B=k((()=>(0,s._)("p",{class:"fw-bold mb-4"},"購物車內還沒有商品呢 ~",-1))),N=k((()=>(0,s._)("i",{class:"fa-solid fa-book-open-reader ms-2"},null,-1))),V={class:"d-flex align-items-center justify-content-between"},Z=["src","alt"],W={class:"d-flex align-items-center justify-content-between"},L={class:"pt-2",style:{width:"200px"}},P={class:"fw-bold fs-5 text-gray700 w-80"},q={class:"fw-bold fs-5 text-primaryMiddle text-end"},M={class:"ms-md-4 ms-2"},U=["onUpdate:modelValue","disabled","onBlur"],F={class:"p-3 card-footer text-gray200 border-0"},J={class:"row"},O={class:"col-4"},z=k((()=>(0,s._)("p",{class:"mb-0"}," 總計",-1))),Y={class:"text-start"},$={class:"text-secondaryDark fs-4 fw-bold"},j={class:"col-8"};function G(t,e,a,o,r,l){const c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("div",{class:"card border-0 pb-0",onClick:e[1]||(e[1]=(...t)=>l.dropdownMenu&&l.dropdownMenu(...t))},[(0,s._)("div",D,[(0,s._)("ul",I,[0===t.cartData.carts.length?((0,s.wg)(),(0,s.iD)("div",S,[T,B,(0,s.Wm)(c,{class:"btn btn-primaryDark",to:"/search"},{default:(0,s.w5)((()=>[(0,s.Uk)("查找書籍 "),N])),_:1})])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.cartData.carts,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"d-flex justify-content-between align-items-center border-bottom-1 p-3",key:e.id},[(0,s._)("div",V,[(0,s.Wm)(c,{class:"cursor-pointer me-2 me-md-4",to:`/product/${e.product.id}`},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"",src:e.product.imageUrl,alt:e.product.title,style:{height:"110px",width:"80px"}},null,8,Z)])),_:2},1032,["to"]),(0,s._)("div",W,[(0,s._)("div",L,[(0,s._)("p",P,(0,i.zw)(e.product.title),1),(0,s._)("p",q,"NT$ "+(0,i.zw)(e.product.price),1)]),(0,s._)("div",M,[(0,s.wy)((0,s._)("input",{class:"form-control rounded-0 text-center fs-5",type:"number",min:"1",max:"30","onUpdate:modelValue":t=>e.qty=t,inputmode:"numeric",disabled:t.isDisabled===e.id,style:{height:"60px",width:"80px"},onBlur:a=>t.updateCart(e,e.qty)},null,40,U),[[n.nr,e.qty,void 0,{number:!0}]])])])])])))),128))])]),(0,s.wy)((0,s._)("div",F,[(0,s._)("div",J,[(0,s._)("div",O,[z,(0,s._)("p",Y,[(0,s._)("span",$,"NT$ "+(0,i.zw)(t.cartData.total),1)])]),(0,s._)("div",j,[(0,s.Wm)(c,{to:"/checkcart",class:"btn btn-secondary py-2 fs-4 text-primaryDark w-100",onClick:e[0]||(e[0]=t=>this.$refs.cart.click())},{default:(0,s.w5)((()=>[(0,s.Uk)("前往購物車")])),_:1})])])],512),[[n.F8,t.cartData.carts.length]])])],512)}var R=a(2578),A=a(4677),E=a(6294),H={data(){return{final_total:""}},watch:{cartData:{handler(){this.final_total=Math.round(this.cartData.final_total)},deep:!0}},computed:{...(0,R.rn)(A.Z,["cartData","coupon_code"]),...(0,R.rn)(E.Z,["isLoadingItem"])},methods:{...(0,R.nv)(A.Z,["getCartList","updateCart","delCartItem","delAllCart","addCouponCode"]),dropdownMenu(t){t.stopPropagation()}},mounted(){this.getCartList()}},K=a(89);const Q=(0,K.Z)(H,[["render",G],["__scopeId","data-v-393a5130"]]);var X=Q,tt=a(206),et={data(){return{selectedCategory:"全部",navIconChange:!1}},components:{CartList:X},mixins:[tt.Z],computed:{...(0,R.rn)(A.Z,["cartData"]),...(0,R.rn)(E.Z,["isBounced"])},methods:{...(0,R.nv)(A.Z,["getCartList"]),navCollapseBack(){if(window.matchMedia("(max-width: 767px)").matches){const t=document.querySelector(".navbar-toggler");t.click()}},toCategory(t){this.selectedCategory=t,this.$router.push({name:"list",query:{pathCategory:t}})}}};const at=(0,K.Z)(et,[["render",x]]);var st=at;const ot={class:"text-white bg-dark footer_base"},rt={class:"container"},it={class:"row row-cols-1 row-cols-md-4 py-4 border-1 border-white"},nt=(0,s._)("div",{class:"col-md-3"},[(0,s._)("h5",null,"關於"),(0,s._)("p",null,"關於我們"),(0,s._)("p",null,"使用者條款")],-1),lt=(0,s._)("div",{class:"col-md-3"},[(0,s._)("h5",null,"幫助"),(0,s._)("p",null,"常見問題"),(0,s._)("p",null,"隱私權政策")],-1),ct={class:"col-md-6"},dt={class:"text-dark d-flex justify-content-md-end"},pt={class:"pt-3 pb-3 text-white-70 fs-6"},ut=(0,s._)("h5",{class:"text-white-70"},"管理員登入",-1),vt=(0,s._)("p",{class:"text-white-70 pt-3",style:{"font-size":"16px"}},"ReadHouse 讀舒房 © All Rights Reserved.",-1),mt=(0,s._)("p",{class:"text-white-70",style:{"font-size":"16px"}},"本網站僅供個人學習使用，無商業行為",-1);function ft(t,e){const a=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("footer",ot,[(0,s._)("div",rt,[(0,s._)("div",it,[nt,lt,(0,s._)("div",ct,[(0,s._)("div",dt,[(0,s._)("div",pt,[(0,s.Wm)(a,{class:"",to:"/login"},{default:(0,s.w5)((()=>[ut])),_:1}),vt,mt])])])])])])}const ht={},wt=(0,K.Z)(ht,[["render",ft]]);var gt=wt;const _t={id:"goTop"},bt=(0,s._)("span",{class:"text-white"},[(0,s._)("i",{class:"fas fa-chevron-up"})],-1),yt=[bt];function xt(t,e,a,o,r,i){return(0,s.wg)(),(0,s.iD)("div",_t,[r.scY>300?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"goTop btn btn-primary",onClick:e[0]||(e[0]=(...t)=>i.toTop&&i.toTop(...t))},yt)):(0,s.kq)("",!0)])}var kt={name:"goTop",data(){return{scTimer:0,scY:0}},methods:{handleScroll(){this.scTimer||(this.scTimer=setTimeout((()=>{this.scY=window.scrollY,clearTimeout(this.scTimer),this.scTimer=0}),100))},toTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)}};const Ct=(0,K.Z)(kt,[["render",xt]]);var Dt=Ct,It={components:{FrontNavbar:st,FooterComponent:gt,GoTop:Dt}};const St=(0,K.Z)(It,[["render",r]]);var Tt=St},4427:function(t,e,a){t.exports=a.p+"img/logo.d869dda9.png"}}]);
//# sourceMappingURL=200.000bcae1.js.map